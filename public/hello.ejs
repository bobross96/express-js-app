<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body>
        <nav>
                <a href="/users">index</a>
        
        
        
            </nav>
    <h1>henlo</h1>
    <button onClick="getData()">get qrcode </button>
    <div id="mainContent">


        </div>
        <script>
        
var main = document.querySelector('#mainContent');


async function getData(){
    
    const response = await fetch('/users/api');
    const data = await response.json();
    console.log(data);
 
    for ( i = 0 ; i < data.length ; i++){
         var div = document.createElement('div');
         var name = document.createElement('h1');
         var qrImage = document.createElement('img');
         var image = document.createElement('img');
         var date = document.createElement('p');
         var qrcodeUrl = data[i].qrcode ;
         var imageUrl = data[i].imageUrl ;
         var eventName = data[i].name;
         var eventDate = data[i].date;
         div.setAttribute('class','container');
         date.textContent = eventDate;
         qrImage.setAttribute('src',qrcodeUrl);
         qrImage.setAttribute('width','300');
         qrImage.setAttribute('height','300');
         image.setAttribute('src',imageUrl);
         name.textContent = eventName;
         div.appendChild(name);
         div.appendChild(image);
         div.appendChild(qrImage);
         div.appendChild(date);
         main.appendChild(div);
         
    }
 }

//jquery functions

$( function() {
    $( "#datepicker" ).datepicker();
} );

        
        
        </script>
        
</body>
</html>